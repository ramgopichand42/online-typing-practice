<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Diverse Text Practice Challenge</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: radial-gradient(circle at center, #0f0c29, #302b63, #24243e);
      color: #fff;
      padding: 20px;
      overflow-x: hidden;
      cursor: none;
    }
    h1 {
      text-align: center;
      font-size: 2em;
      margin-bottom: 10px;
      text-shadow: 0 0 10px #00f7ff;
    }
    select, button {
      display: block;
      margin: 10px auto;
      padding: 10px;
      font-size: 1em;
      border-radius: 10px;
      border: none;
      background: #111;
      color: #0ff;
      box-shadow: 0 0 10px #0ff;
    }
    .target {
      font-size: 1.2em;
      margin: 20px auto;
      max-width: 700px;
      text-align: center;
      word-wrap: break-word;
    }
    .highlighted {
      display: inline-block;
      padding: 2px 4px;
      border-radius: 4px;
    }
    .correct {
      color: #0f0;
    }
    .wrong {
      background-color: #f00;
      color: #fff;
      box-shadow: 0 0 10px #f00;
    }
    input {
      width: 100%;
      max-width: 700px;
      margin: 0 auto;
      display: block;
      padding: 12px;
      font-size: 1.2em;
      border: none;
      border-radius: 10px;
      background: #111;
      color: #0ff;
      outline: none;
      box-shadow: 0 0 10px #0ff;
    }
    .feedback, .timer {
      text-align: center;
      margin-top: 10px;
      font-size: 1em;
      color: #ff0;
    }
    .cursor-trail {
      position: fixed;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: radial-gradient(circle, #0ff, #00f);
      pointer-events: none;
      animation: pulse 0.6s ease-out;
    }
    @keyframes pulse {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: scale(2); opacity: 0; }
    }
    .celebrate {
      text-align: center;
      font-size: 1.5em;
      color: #0ff;
      text-shadow: 0 0 20px #0ff;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h1>üöÄ Diverse Text Practice Challenge</h1>
  <select id="timeSelect">
    <option value="30">‚è±Ô∏è 30 seconds</option>
    <option value="60" selected>‚è±Ô∏è 60 seconds</option>
    <option value="90">‚è±Ô∏è 90 seconds</option>
  </select>
  <button id="startBtn">Start Practice</button>

  <div class="timer" id="timerDisplay"></div>
  <div class="target" id="targetText"></div>
  <input type="text" id="userInput" placeholder="Start typing..." disabled />
  <div class="feedback" id="feedback"></div>
  <div class="celebrate" id="celebrateMsg"></div>

  <script>
    const texts = [
      "Once upon a time, in a glowing forest, a fox danced under the moonlight.",
      "JavaScript enables dynamic interactions and modular upgrades in web development.",
      "Stars whisper secrets to the night, glowing dreams in cosmic flight.",
      "Cosmic code flows like stardust, illuminating minds with radiant logic."
    ];

    let currentLevel = 0;
    let timer;
    let timeLeft = 60;

    const timeSelect = document.getElementById("timeSelect");
    const startBtn = document.getElementById("startBtn");
    const timerDisplay = document.getElementById("timerDisplay");
    const targetText = document.getElementById("targetText");
    const userInput = document.getElementById("userInput");
    const feedback = document.getElementById("feedback");
    const celebrateMsg = document.getElementById("celebrateMsg");

    function loadText(level) {
      const text = texts[level];
      targetText.dataset.fulltext = text;
      targetText.innerHTML = "";
      for (let char of text) {
        const span = document.createElement("span");
        span.classList.add("highlighted");
        span.textContent = char;
        targetText.appendChild(span);
      }
    }

    function startTimer(duration) {
      timeLeft = duration;
      timerDisplay.textContent = `‚è≥ Time Left: ${timeLeft}s`;
      timer = setInterval(() => {
        timeLeft--;
        timerDisplay.textContent = `‚è≥ Time Left: ${timeLeft}s`;
        if (timeLeft <= 0) {
          clearInterval(timer);
          userInput.disabled = true;
          feedback.textContent = "‚è∞ Time's up!";
        }
      }, 1000);
    }

    function checkInput() {
      const inputVal = userInput.value;
      const target = targetText.dataset.fulltext;
      const spans = targetText.querySelectorAll("span");
      let hasError = false;
      for (let i = 0; i < spans.length; i++) {
        spans[i].classList.remove("correct", "wrong");
        if (inputVal[i] == null) continue;
        if (inputVal[i] === target[i]) {
          spans[i].classList.add("correct");
        } else {
          spans[i].classList.add("wrong");
          hasError = true;
        }
      }
      if (inputVal === target) {
        clearInterval(timer);
        feedback.textContent = "‚úÖ Challenge Complete!";
        celebrateMsg.textContent = "üéâ Level Up!";
        userInput.disabled = true;
        setTimeout(() => {
          celebrateMsg.textContent = "";
          currentLevel++;
          if (currentLevel < texts.length) {
            userInput.value = "";
            userInput.disabled = false;
            loadText(currentLevel);
            startTimer(parseInt(timeSelect.value));
          } else {
            celebrateMsg.textContent = "üåå All Levels Complete! Cosmic Master!";
          }
        }, 2000);
      } else {
        feedback.textContent = hasError ? "‚ùå Mistakes detected..." : "‚è≥ Keep going...";
      }
    }

    userInput.addEventListener("input", checkInput);

    startBtn.addEventListener("click", () => {
      currentLevel = 0;
      userInput.value = "";
      userInput.disabled = false;
      celebrateMsg.textContent = "";
      loadText(currentLevel);
      startTimer(parseInt(timeSelect.value));
    });

    // Cursor Magic Trail
    document.addEventListener("mousemove", e => {
      const trail = document.createElement("div");
      trail.className = "cursor-trail";
      trail.style.left = `${e.pageX}px`;
      trail.style.top = `${e.pageY}px`;
      document.body.appendChild(trail);
      setTimeout(() => trail.remove(), 500);
    });
  </script>
</body>
</html>
